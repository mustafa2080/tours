{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block extra_js %}
<script src="{% static 'js/contact-form-validation.js' %}"></script>
{% endblock %}

{% block content %}
<div class="py-12 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-3xl mb-12 overflow-hidden relative">
    <!-- Animated background elements -->
    <div class="absolute -top-24 -right-24 w-64 h-64 bg-blue-200 rounded-full opacity-20 animate-pulse"></div>
    <div class="absolute top-32 -left-20 w-48 h-48 bg-indigo-200 rounded-full opacity-20 animate-pulse" style="animation-delay: 1s;"></div>
    <div class="absolute bottom-10 right-32 w-32 h-32 bg-purple-200 rounded-full opacity-20 animate-pulse" style="animation-delay: 2s;"></div>

    <div class="container mx-auto px-6 relative z-10">
        <div class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4 animate-fade-in-down">
                {% trans "Get in Touch" %}
            </h1>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto animate-fade-in-up">
                {% trans "Have questions about our tours or need assistance planning your trip? We're here to help!" %}
            </p>
        </div>
    </div>
</div>

<div class="container mx-auto px-6 mb-20">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
        <!-- Contact Information Cards -->
        <div class="lg:col-span-1 space-y-6">
            <!-- Card 1: Address -->
            <div class="bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:scale-105 hover:shadow-xl">
                <div class="flex items-start">
                    <div class="bg-primary/10 p-4 rounded-full mr-4">
                        <i class="fas fa-map-marker-alt text-primary text-xl"></i>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">{% trans "Our Location" %}</h3>
                        <p class="text-gray-600">45 Corniche El Nile St, Luxor, Egypt</p>
                        <a href="https://maps.google.com/?q=Luxor,Egypt" target="_blank" class="text-primary hover:text-primary-dark mt-2 inline-block transition-colors duration-300">
                            {% trans "View on Map" %} <i class="fas fa-arrow-right ml-1"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Card 2: Phone -->
            <div class="bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:scale-105 hover:shadow-xl">
                <div class="flex items-start">
                    <div class="bg-primary/10 p-4 rounded-full mr-4">
                        <i class="fas fa-phone-alt text-primary text-xl"></i>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">{% trans "Call Us" %}</h3>
                        <p class="text-gray-600">+1 234 567 8900</p>
                        <p class="text-gray-600">+1 987 654 3210</p>
                        <p class="text-sm text-gray-500 mt-2">{% trans "Mon-Fri: 9AM to 6PM" %}</p>
                    </div>
                </div>
            </div>

            <!-- Card 3: Email -->
            <div class="bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:scale-105 hover:shadow-xl">
                <div class="flex items-start">
                    <div class="bg-primary/10 p-4 rounded-full mr-4">
                        <i class="fas fa-envelope text-primary text-xl"></i>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">{% trans "Email Us" %}</h3>
                        <p class="text-gray-600">info@tourismco.com</p>
                        <p class="text-gray-600">support@tourismco.com</p>
                        <p class="text-sm text-gray-500 mt-2">{% trans "We respond within 24 hours" %}</p>
                    </div>
                </div>
            </div>

            <!-- Social Media Links -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">{% trans "Connect With Us" %}</h3>
                <div class="flex space-x-4">
                    <a href="#" class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white transform transition-all duration-300 hover:scale-110 hover:rotate-6">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="w-10 h-10 rounded-full bg-sky-400 flex items-center justify-center text-white transform transition-all duration-300 hover:scale-110 hover:rotate-6">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="w-10 h-10 rounded-full bg-pink-600 flex items-center justify-center text-white transform transition-all duration-300 hover:scale-110 hover:rotate-6">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="w-10 h-10 rounded-full bg-red-600 flex items-center justify-center text-white transform transition-all duration-300 hover:scale-110 hover:rotate-6">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Contact Form -->
        <div class="lg:col-span-2">
            <div class="bg-white rounded-xl shadow-lg p-8 transform transition-all duration-500 hover:shadow-xl">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">{% trans "Send Us a Message" %}</h2>

                <form id="contact-form" method="post" class="space-y-6">
                    {% csrf_token %}

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Name Field -->
                        <div class="form-group">
                            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">{% trans "Your Name" %} *</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-user text-gray-400"></i>
                                </div>
                                <input type="text" name="name" id="name" required
                                       class="block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition-all duration-300 bg-gray-50 focus:bg-white"
                                       placeholder="{% trans 'John Doe' %}">
                                <!-- Validation icons will be added here by JavaScript -->
                            </div>
                            <!-- Feedback message will be added here by JavaScript -->
                        </div>

                        <!-- Email Field -->
                        <div class="form-group">
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">{% trans "Your Email" %} *</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-envelope text-gray-400"></i>
                                </div>
                                <input type="email" name="email" id="email" required
                                       class="block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition-all duration-300 bg-gray-50 focus:bg-white"
                                       placeholder="{% trans 'your@email.com' %}">
                                <!-- Validation icons will be added here by JavaScript -->
                            </div>
                            <!-- Feedback message will be added here by JavaScript -->
                        </div>
                    </div>

                    <!-- Subject Field -->
                    <div class="form-group">
                        <label for="subject" class="block text-sm font-medium text-gray-700 mb-2">{% trans "Subject" %} *</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-tag text-gray-400"></i>
                            </div>
                            <input type="text" name="subject" id="subject" required
                                   class="block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition-all duration-300 bg-gray-50 focus:bg-white"
                                   placeholder="{% trans 'How can we help you?' %}">
                            <!-- Validation icons will be added here by JavaScript -->
                        </div>
                        <!-- Feedback message will be added here by JavaScript -->
                    </div>

                    <!-- Message Field -->
                    <div class="form-group">
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-2">{% trans "Your Message" %} *</label>
                        <div class="relative">
                            <div class="absolute top-3 left-3 flex items-start pointer-events-none">
                                <i class="fas fa-comment-alt text-gray-400"></i>
                            </div>
                            <textarea name="message" id="message" rows="6" required
                                      class="block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition-all duration-300 bg-gray-50 focus:bg-white"
                                      placeholder="{% trans 'Please describe your inquiry in detail...' %}"></textarea>
                            <!-- Validation icons will be added here by JavaScript -->
                            <div class="absolute top-3 right-3 items-start validation-icon hidden">
                                <!-- Icons will be added by JavaScript -->
                            </div>
                        </div>
                        <!-- Feedback message will be added here by JavaScript -->
                    </div>

                    <!-- Submit Button -->
                    <div class="form-group">
                        <button type="submit" id="submit-button" class="w-full md:w-auto px-8 py-3 bg-primary text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50 transition-all duration-300 transform flex items-center justify-center relative overflow-hidden group">
                            <span class="absolute right-0 top-0 w-8 h-8 bg-white/20 transform rotate-45 translate-x-1 -translate-y-1 opacity-0 group-hover:opacity-100 transition-all duration-700"></span>
                            <i class="fas fa-paper-plane mr-2 group-hover:animate-bounce"></i>
                            <span class="relative z-10">{% trans "Send Message" %}</span>
                            <span class="absolute bottom-0 left-0 w-full h-1 bg-white/30 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
                        </button>
                        <div id="form-status" class="mt-4 text-center hidden">
                            <div id="form-success" class="text-green-600 hidden">
                                <i class="fas fa-check-circle mr-2"></i>
                                <span>{% trans "Your message has been sent successfully!" %}</span>
                            </div>
                            <div id="form-error" class="text-red-600 hidden">
                                <i class="fas fa-exclamation-circle mr-2"></i>
                                <span>{% trans "Please fix the errors above and try again." %}</span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Map Section -->
<div class="container mx-auto px-6 mb-20">
    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
        <div class="p-6 bg-gray-50">
            <h2 class="text-2xl font-bold text-gray-800 mb-2">{% trans "Find Us" %}</h2>
            <p class="text-gray-600">{% trans "Visit our office or plan your trip to one of our destinations" %}</p>
        </div>
        <div class="h-96 w-full">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d114432.21095834025!2d32.5795574!3d25.6940165!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x144915c4df9f0d0d%3A0x7421f012eba027a!2sLuxor%2C%20Luxor%20Governorate%2C%20Egypt!5e0!3m2!1sen!2s!4v1684234567890!5m2!1sen!2s"
                    width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
    </div>
</div>

<!-- FAQ Section -->
<div class="container mx-auto px-6 mb-20">
    <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-800 mb-4">{% trans "Frequently Asked Questions" %}</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">{% trans "Find quick answers to common questions about our services" %}</p>
    </div>

    <div class="max-w-3xl mx-auto">
        <div x-data="{ activeTab: 0 }" class="space-y-4">
            <!-- FAQ Item 1 -->
            <div class="border border-gray-200 rounded-lg overflow-hidden">
                <button @click="activeTab = activeTab === 0 ? null : 0"
                        class="flex items-center justify-between w-full px-6 py-4 text-left bg-white hover:bg-gray-50 transition-colors duration-300">
                    <span class="font-medium text-gray-800">{% trans "How do I book a tour?" %}</span>
                    <i class="fas" :class="activeTab === 0 ? 'fa-chevron-up text-primary' : 'fa-chevron-down text-gray-400'"></i>
                </button>
                <div x-show="activeTab === 0" x-collapse class="px-6 py-4 bg-gray-50 text-gray-600">
                    <p>{% trans "You can book a tour directly through our website by selecting your desired tour, choosing your dates, and completing the booking form. Alternatively, you can contact our customer service team who will assist you with the booking process." %}</p>
                </div>
            </div>

            <!-- FAQ Item 2 -->
            <div class="border border-gray-200 rounded-lg overflow-hidden">
                <button @click="activeTab = activeTab === 1 ? null : 1"
                        class="flex items-center justify-between w-full px-6 py-4 text-left bg-white hover:bg-gray-50 transition-colors duration-300">
                    <span class="font-medium text-gray-800">{% trans "What is your cancellation policy?" %}</span>
                    <i class="fas" :class="activeTab === 1 ? 'fa-chevron-up text-primary' : 'fa-chevron-down text-gray-400'"></i>
                </button>
                <div x-show="activeTab === 1" x-collapse class="px-6 py-4 bg-gray-50 text-gray-600">
                    <p>{% trans "Our standard cancellation policy allows for a full refund if cancelled 30 days before the tour date. Cancellations made 15-29 days before receive a 50% refund. Cancellations less than 15 days before the tour are non-refundable. Some tours may have specific policies, which will be clearly indicated during booking." %}</p>
                </div>
            </div>

            <!-- FAQ Item 3 -->
            <div class="border border-gray-200 rounded-lg overflow-hidden">
                <button @click="activeTab = activeTab === 2 ? null : 2"
                        class="flex items-center justify-between w-full px-6 py-4 text-left bg-white hover:bg-gray-50 transition-colors duration-300">
                    <span class="font-medium text-gray-800">{% trans "Do you offer group discounts?" %}</span>
                    <i class="fas" :class="activeTab === 2 ? 'fa-chevron-up text-primary' : 'fa-chevron-down text-gray-400'"></i>
                </button>
                <div x-show="activeTab === 2" x-collapse class="px-6 py-4 bg-gray-50 text-gray-600">
                    <p>{% trans "Yes, we offer discounts for group bookings. The discount amount varies depending on the size of the group and the specific tour. Please contact our team for more information about group rates and special arrangements." %}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add custom animations -->
<style>
    @keyframes fade-in-down {
        0% {
            opacity: 0;
            transform: translateY(-20px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fade-in-up {
        0% {
            opacity: 0;
            transform: translateY(20px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-5px); }
    }

    .animate-fade-in-down {
        animation: fade-in-down 0.7s ease-out forwards;
    }

    .animate-fade-in-up {
        animation: fade-in-up 0.7s ease-out forwards;
        animation-delay: 0.3s;
        opacity: 0;
    }

    .animate-shake {
        animation: shake 0.5s ease-in-out;
    }

    .animate-bounce {
        animation: bounce 0.5s infinite;
    }

    /* Form validation styles */
    .form-group label.required::after {
        content: '*';
        color: #e53e3e;
        margin-left: 4px;
    }

    /* Validation feedback transitions */
    #name-feedback, #email-feedback, #subject-feedback, #message-feedback {
        transition: all 0.3s ease;
        max-height: 0;
        overflow: hidden;
    }

    #name-feedback:not(.hidden), #email-feedback:not(.hidden), #subject-feedback:not(.hidden), #message-feedback:not(.hidden) {
        max-height: 50px;
        margin-top: 0.25rem;
    }
</style>
{% endblock %}
